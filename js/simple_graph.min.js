function SVG(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}var drawGraph=function(){var t=[],e=-1,r=dayjs.unix(latestAt),a="",l="",o=20,n=20;values.forEach((e=>{let r=360-3*e;a+=(""==a?"":" ")+(o+=20)+","+r,t.push([o,r,e])})),values2.forEach((e=>{let r=360-3*e;l+=(""==l?"":" ")+(n+=20)+","+r,t.push([n,r,e])}));for(let t=1;t<20;t++)$(SVG("line")).attr("x1",60+20*t).attr("x2",60+20*t).attr("y1",40).attr("y2",360).attr("stroke-width","0.2").attr("stroke","rgba(0,0,0,0.5)").appendTo(s);console.log(a);var s=$(".graph svg");$(SVG("polyline")).attr("points",a).attr("style","stroke:red;stroke-width:2;fill:transparent;").appendTo(s),$(SVG("polyline")).attr("points",l).attr("style","stroke:blue;stroke-width:2;fill:transparent;").appendTo(s),$(SVG("polyline")).attr("points","40,360 "+a+" "+o+",360").attr("style","fill:rgba(255,0,0,0.1);").appendTo(s),$(SVG("polyline")).attr("points","40,360 "+l+" "+n+",360").attr("style","fill:rgba(0,0,255,0.1);").appendTo(s),t.forEach((t=>{$(SVG("circle")).attr("cx",t[0]).attr("cy",t[1]).attr("r",3).attr("stroke","transparent").attr("stroke-width","20").click((function(){if(e!=t[0]){e=t[0];let r=$(this).position();$("#hoverer").css({top:r.top-48,left:r.left-22,position:"absolute"}),$("#hoverer span:first-child").text(t[2]+"%"),$("#hoverer span:last-child").text(t[2]+"Â°")}else e=!1,$("#hoverer").css({top:-100,left:-100,position:"absolute"})})).appendTo(s)}));for(let t=0;t<11;t++){let e=40+32*t;$(SVG("line")).attr("x1",35).attr("x2",45).attr("y1",e).attr("y2",e).attr("stroke-width",1).attr("stroke","black").appendTo(s),$(SVG("text")).attr("x",5).attr("y",e).text(100-10*t+"%%").attr("style","alignment-baseline: central;font-size:12;").appendTo(s)}for(let t=0;t<Math.ceil(values.length/2);t++){let e=r.clone();r=r.subtract(2*intervalMinutes,"minutes"),$(SVG("text")).attr("dx",40+40*t).attr("style","writing-mode: vertical-lr;-webkit-writing-mode: vertical-lr;font-size:12;").attr("dy",365).text("- "+e.format("HH:mm - DD/MM")).appendTo(s)}},setGraphInterval=function(t){intervalMinutes=t};